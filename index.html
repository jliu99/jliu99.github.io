<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="utf-8">
    <title>Home</title>
    <link rel="stylesheet" href="css/reset.css" />
    <link rel="stylesheet" href="css/style.css" />
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
    <script type="text/javascript" src="js/d3/d3.js"></script>
    <script type="text/javascript" src="js/jquery-3.1.0.min.js"></script>
    <script type="text/javascript" src="js/signature-module.js"></script>
</head>

<body>
    <script type="text/javascript">
        var search = location.search;
        if (search != null && search.includes("?query=")) {
            window.location.href = "http://jliu99.github.io/search.html" + search;
        }
    </script>
    <header>
        <a href="index.html"><h2>Research Analytics Institutional Lookup</h2></a>
    </header>
    <header id="home-header" style="box-sizing:border-box; padding-top:120px;">
        <div id="searchbar">
            <input type="text" name="query" id="query" placeholder="Search for..." required />
            <button onclick="search()"><i class="material-icons">search</i></button>
        </div>
        <!--div class="title">
                <h2>Research Analytics Team Search</h2>
                <h4>(RATS)</h4>
            </div>
            <div class="title">
                <h2> Research Analytics Institutional Lookup</h2>
                <h4>(RAIL)</h4>
            </div>
            <div class="title">
                <h2>Research & Educational Search Tool</h2>
                <h4>(REST)</h4>
            </div>
            <div class="title">
                <h2>Research & Education Search</h2>
                <h4>(RE-Search)</h4>
            </div>
            <div class="title">
                <h2 style="font-size: 2.3em">Research Extraordinary Search Extra And Research Company Headquarters</h2>
                <h4 style="font-size: 1.2em">(RESEARCH)</h4>
            </div>
            <div class="title">
                <h2>Research University Match Base Lookup Engine</h2>
                <h4>(RUMBLE)</h4>
            </div-->
    </header>
    <main>
        <section id="visual-content">
            <div id="home-svg-container">
                <h3>U-Chicago</h3>
                <svg class="svg" id="home-svg">
                </svg>
            </div>

            <div id="top-authors">
                <select>
                    <option value="all">All Topics</option>
                </select>
                <ul>
                    <li>
                        <a href="">
                            <svg class="svg top-authors-svg"></svg>
                            <h4>Name</h4>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <svg class="svg top-authors-svg"></svg>
                            <h4>Name</h4>
                        </a>
                    </li>
                    <li>
                        <a href="">
                            <svg class="svg top-authors-svg"></svg>
                            <h4>Name</h4>
                        </a>
                    </li>
                </ul>
            </div>
        </section>
    </main>
    <footer>
        <div id="footer-img-wrapper">
            <div class="footer-img">
                <a href="http://www.uchicago.edu/"><img src="img/University_of_Chicago_logo.png" /></a>
            </div>
            <div class="divider"> | </div>
            <div class="footer-img">
                <a href="http://www.knowledgelab.org/"><img src="img/KnowledgeLab.Main.Black.png" /></a>
            </div>
        </div>
    </footer>
    <script type="text/javascript">
        //Variables
        var numTopics, topics;
        var numTopTopics = 50;
        var topicNames = [],
            topicScores = [];

        //Load in JSON and initialize variables + page content
        d3.json("/data/uchicago.json", function (data) {
            topics = data[0]["ldatopics"];
            console.log(data);
            console.log(data[0]);
            numTopics = topics.length;
            for (i = 0; i < numTopics; i++) {
                var n = topics[i]["names"];
                var str = n[0] + " | " + n[1] + " | " + n[2];
                topicNames.push(str);
                topicScores.push(topics[i]["score"]);
            }

            setTopResultsNumber(numTopTopics);
            loadData(topicScores);
            setMax(d3.max(topicScores));
            setShowTopOnly(true);
            loadNames(topicNames);
            createSignature("home-svg");
            for (j = 0; j < topicNames.length; j++) {
                $("select").append("<option value='" + (j + 1) + "'>" + topicNames[j] + "</option>");
            }
        });
    </script>
    <script type="text/javascript">
        function search() {
            var term = document.getElementById("query").value;
            term = term.toLowerCase();
            term = term.replace(" ", "+");
            window.location.href = "http://jliu99.github.io/search.html?query=" + term;
        }
    </script>
</body>
</html